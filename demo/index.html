<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="da" style="font-size: 100%">
<head>
	<title>fcoo.dk - fcoo-metoc-model-domain - Demo</title>
	<meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv='x-dns-prefetch-control' content='on'>

	<meta name='copyright' content='FCOO'>
	<meta name='owner' content='FCOO'>

  <link  href="bower_components.css" rel="stylesheet">
  <link  href="../src/fcoo-metoc-model-domain.css" rel="stylesheet">
</head>

<body>
	<script src="bower_components.js"></script>
	<script src="../src/fcoo-metoc-model-domain.js"></script>
	<script src="../src/fcoo-metoc-model-domain-group.js"></script>
	<script>
        window.fcoo.LOCAL_DATA = true;

        window.bsIsTouch = window.bsIsTouch || (window.location.search =='?touch');

        i18next.init();
        i18next.changeLanguage('en');
        i18next.options.fallbackLng = i18next.language == 'da' ? 'en' : 'da';

var test = [];
var modal = null;
function afterLoad(){
//HER    var items = [];
//HER    $.each(test, function(dummy, domain){
//HER        items.push({
//HER            header: domain.id,
//HER            content: $.proxy(domain.createDetailContent, domain)
//HER        });
//HER    });
    if (modal){
        modal.update({
            width: 350,
            //flexWidth: true,
            content:{type:'accordion', multiOpen: true, items:test}
        });
    }
    else {
        modal = $.bsModal({
                    width: 350,
                    //flexWidth: true,
                    content:{type:'accordion', multiOpen: true, items:test}
                });
console.log(modal);
        modal.show();
    }
}

window.setTimeout( function(){
        window.fcoo.model.modelList = new window.fcoo.model.ModelList();
        var mgl = window.fcoo.model.domainGroupList = new window.fcoo.model.DomainGroupList({}, window.fcoo.model.modelList);

        window.Promise.getJSON(window.fcoo.dataFilePath({subDir:'setup', fileName:'fcoo_model_domain.json'}), {}, function(data){
            window.fcoo.model.modelList.resolve(data);


mgl.addDomainGroup({
    "id": "met_model",
    "modelId" : "IFS",
    "domainId": "DXD",
    "subdomains"  : [{
        "modelId" : "HARMONIE",
        "domainId": "NEA",
        "priority": 10
    },{
        "modelId" : "HARMONIE",
        "domainId": "IGB",
        "priority": 1
    }]

});

mgl.addDomainGroup({
    "id": "met_model2",
    "subdomains": [{
        "modelId" : "IFS",
        "domainId": "DXD",
        "subdomains"  : [{
            "modelId" : "HARMONIE",
            "domainId": "NEA",
            "priority": 1
        },{
            "modelId" : "HARMONIE",
            "domainId": "IGB",
            "priority": 10
        }]
    }]
});

mgl.addDomainGroup({
    "id": "wave_model",
    "subdomains": [{
        "modelId" : "SWAN",
        "domainId": "DXP",
        "subdomains"  : [{
            "modelId" : "WW3",
            "domainId": "NSBALT",
            "subdomains"  : [{
                "modelId" : "WW3",
                "domainId": "WW3_INNER_DK"
            }]
        }]
    }]
});
});


}, 2000);

	</script>
</body>
</html>
